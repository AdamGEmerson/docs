---
title: Actions
description: Learn how to create type-safe server functions you can call from anywhere.
i18nReady: true
---

import { Steps } from '@astrojs/starlight/components';


Astro actions make it easy to define and call backend functions with type-safety. 

# Basic usage

<Steps>

1. Create an `src/actions/index.ts|js` file.

2. Inside this file, export a `server` object. Each key in this object corresponds to an action name:

    ```ts title="src/actions/index.ts"
    export const server = {
      // action declarations
    }
    ```

3. Import the `defineAction()` utility from `astro:actions`, and the `z` object from `astro:schema`. `defineAction()` accepts a `handler` function containing any backend logic you want to run, and an optional `input` object to validate input parameters with Zod. Anything returned from the `handler` function will be serialized as a response.

    ```ts ins={1-2, 5-12} title="src/actions/index.ts"
    import { defineAction } from 'astro:actions';
    import { z } from 'astro:schema';

    export const server = {
      getGreeting: defineAction({
        input: z.object({
          name: z.string(),
        }),
        handler: async (input) => {
          return `Hello, ${input.name}!`
        }
      })
    }
    ```

4. Call your action from client code by importing `actions` from `astro:actions`. This object contains all functions exported by the `server` object. For example, call `actions.getGreeting()` on a button press using a `<script>` tag:

    ```astro title="src/pages/index.astro"
    ---
    ---

    <button>Get greeting</button>

    <script>
    import { actions } from 'astro:actions';

    document.querySelector('button')?.addEventListener('click', async () => {
      const { data, error } = await actions.getGreeting({ name: "Houston" });
      alert(greeting);
      // Show alert pop-up with "Hello, Houston!"
    })
    </script>
    ```

</Steps>
